<section data-section-id="{{ section.id }}" data-section-type="slideshow">
  <div id="carouselExampleIndicators" class="carousel slide" data-ride="carousel">
    <ol class="carousel-indicators">
      <!-- <li data-target="#carouselExampleIndicators" data-slide-to="0" class="active"></li> -->
      {% assign count = 0 %}
      {% for block in section.blocks %}
        <li data-target="#carouselExampleIndicators" data-slide-to="{{ count }}" class="{% if count == 0 %} active {% endif %}"></li>
      <!-- <li data-target="#carouselExampleIndicators" data-slide-to="1"></li> -->
       {% assign count = count | plus: 1 %}
      {% endfor %}
    </ol>
    <div class="carousel-inner">
      {% assign slide = 0 %}
      {% for block in section.blocks %}
        <div class="carousel-item {% if slide == 0 %} active {% endif %}">
          <img class="d-block w-100" src="{{ block.settings.slide | img_url: 'original' }}" alt="First slide">
          <div class="carousel-caption">
            <h5>{{ block.settings.slide_heading }}</h5>
            <p>{{ block.settings.slide_subheading }}</p>
            <a href="{{ block.settings.slide_btn_link }}" class="btn btn-red" style="{% if block.settings.slide_btn_color %}background-color:{{block.settings.slide_btn_color}}{% endif %}{% if block.settings.slide_btn_tcolor %}color:{{block.settings.slide_btn_tcolor}};{% endif %}">{{ block.settings.slide_btn_text }}</a>
          </div>
        </div>
        {% assign slide = slide | plus: 1 %}
      {% endfor %}
      <!-- Slide -->
      <!-- <div class="carousel-item active">
        <img class="d-block w-100" src="{{ section.settings.slide1 | img_url: 'original' }}" alt="First slide">
        <div class="carousel-caption d-none d-md-block">
          <h5>Boom in time for the holidays...</h5>
          <p>Home (or Shop) Improvement!</p>
          <button class="btn btn-red">Shop Floor Mats</button>
        </div>
      </div> -->
      <!-- End Slide -->
      <!-- <div class="carousel-item">
        <img class="d-block w-100" src="{{ section.settings.slide2 | img_url: 'original' }}" alt="Second slide">
      </div> -->
      <!-- <div class="carousel-item">
        <img class="d-block w-100" src="..." alt="Third slide">
      </div> -->
    </div>
    <a class="carousel-control-prev" href="#carouselExampleIndicators" role="button" data-slide="prev">
      <span class="carousel-control-prev-icon" aria-hidden="true"></span>
      <span class="sr-only">Previous</span>
    </a>
    <a class="carousel-control-next" href="#carouselExampleIndicators" role="button" data-slide="next">
      <span class="carousel-control-next-icon" aria-hidden="true"></span>
      <span class="sr-only">Next</span>
    </a>
  </div>
</div>

{% schema %}
  {
    "name": "Slideshow",
    "settings": [    ],
    "blocks": [
      {
        "type": "image_picker",
        "name": "Slides",
        "settings": [
          {
            "label": "Slide",
            "id": "slide",
            "type": "image_picker"
          },
          {
            "label": "Slide Heading",
            "id": "slide_heading",
            "type": "text",
            "default":"Some Heading Here.."
          },
          {
            "label": "Slide Subheading",
            "id": "slide_subheading",
            "type": "text",
            "default":"Some subheading here!"
          },
          {
            "label": "Slide Button Text",
            "id": "slide_btn_text",
            "type": "text",
            "default":"Shop Now"
          },
          {
            "type": "color",
            "id": "slide_btn_color",
            "label": "Slide Button Color",
            "default": "#b81721"
          },
          {
            "type": "color",
            "id": "slide_btn_tcolor",
            "label": "Slide Button Text Color",
            "default": "#ffffff"
          },
          {
            "type": "url",
            "id": "slide_btn_link",
            "label": "Slide Button Link"
          }
        ]
      }
    ]
  }
{% endschema %}
